#!/usr/bin/env python
#-*- coding:utf-8 -*-

import sys
import os
from HTMLParser import HTMLParser

class MLStripper(HTMLParser):
    def __init__(self):
        self.reset()
        self.fed = []

    def handle_data(self, d):
        self.fed.append(d)

    def get_data(self):
        return ''.join(self.fed)

def strip_tags(html):
    s = MLStripper()
    s.feed(html)
    return s.get_data()

def version():
    print "untag(1) - strip html tags from text"
    print "           ver.0.1.0, written with python"
    print "usage:"
    print r"    % untag <file>"
    print r"    % echo <html> | untag"

args = sys.argv

if len(args) == 2 and os.path.isfile(args[1]):
    f = open(args[1])
    input = f.readlines()
elif len(args) == 1:
    input = sys.stdin.readlines()
elif args[1] in ['--version','-v','--help','-h']:
    version()
    sys.exit(0)
else:
    sys.exit(0)

pre = ''
for i in input:
    s = strip_tags(i.strip())
    if s != pre:
        print s
    pre = s